<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- 
        map() 함수
            : 콜백함수를 실행한 결과를 통해 새로운 배열을 만들때 사용

            형식]
                var oldArr = [1,2,3,4, ... ]
                var newArr = oldArr.map(
                    callbackFunction(현재값, 현재값의 인덱스, 호출된 배열){

                    }, thisArgs
                );

            형식 마지막의 thisArgs는 map에서 사용할 this값으로 선택적으로
            사용한다.
     -->
    <script>

        /*
        기존 배열의 각 요소에 X 2 를 한 새로운 배열을 생성한다.
        */
        console.error('mapTest1() called 기본 사용법');
        (function mapTest1(){
            var testArray = [1,2,3,4,5];
            var returnArray = testArray.map(
                function(currVal, currIdx, arr){
                    console.log(currVal);
                    console.log(currIdx);
                    console.log(arr);
                    return currVal*2;
                });
                console.log(returnArray);
        })();


        /*
        객체형 JSON배열의 각 요소를 이용해서, 요소의 name을 key로 사용하는
        새로운 JSON객체를 생성한다.
        */
        console.error('mapTest2() called JSON 객체 배열 활용하기');
        (function mapTest2(){
            var testJSON = [
                {name : '옹성우', salary:50000000},
                {name : '김선호', salary:400000},
                {name : '김선우', salary:200000},
                {name : '이정하', salary:3000000}
            ];
            var newJson = testJSON.map(
                function(currVal, currIdx, arr){
                    console.log(currVal);
                    var returnObj = {}
                    returnObj[currVal.name] = currVal.salary;
                    return returnObj;
                });
                console.log(newJson);
        })();






    </script>
</head>
<body>
    
</body>
</html>